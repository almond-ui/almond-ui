import{useFloating as e,offset as t,shift as o,arrow as r,autoUpdate as n,useInteractions as l,useClick as i,useHover as a,safePolygon as s,useFocus as c,useDismiss as g,useRole as p}from"@floating-ui/react";import{inline as f,flip as m}from"@floating-ui/react-dom";import{useRef as d,useState as u,useMemo as P}from"react";function x({placement:x="bottom",initiallyOpen:y=!1,outsidePress:h=!0,trigger:R="click"}){const b=d(null),[w,F]=u(y),{x:O,y:k,refs:v,strategy:C,context:E}=e({open:w,onOpenChange:F,placement:x,middleware:[t(8),o(),f(),m(),r({element:b})],whileElementsMounted:n}),{getFloatingProps:M,getReferenceProps:j}=l([i(E,{enabled:"click"===R,toggle:!0}),a(E,{enabled:"hover"===R,move:!0,handleClose:s()}),c(E),g(E,{referencePress:!1,outsidePress:h}),p(E,{role:"dialog"})]);return P((()=>({arrowRef:b,context:E,floating:v.setFloating,getFloatingProps:M(),getReferenceProps:j(),open:w,setOpen:F,reference:v.setReference,strategy:C,x:O,y:k})),[E,v,M,j,w,F,C,O,k])}export{x as useDropdown};
