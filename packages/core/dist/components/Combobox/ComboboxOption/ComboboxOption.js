import{jsxs as e,jsx as s}from"react/jsx-runtime";import{useComboboxContext as i}from"../Combobox.context.js";import{textNormalize as o}from"../../../helpers/text-normalize.utility.js";import{CheckIcon as t}from"../../../icons/Check.js";import{useComponentTheme as a}from"../../../theme/theme.context.js";import{usePropId as l}from"../../../utils/usePropId.js";import{forwardRef as r,useEffect as d}from"react";const c=r(((r,c)=>{const n=a("Combobox"),{value:m,label:p,description:b,media:u}=r,h=!!r.disabled,j=l(r.id),{mode:f,optionColor:x,radius:C,search:N,selectedValue:O,setSelectedLabel:g,setSelectedValue:z,size:v}=i(),k=o(N||""),y=o(p||""),S=o(b||""),V=!y.includes(k)&&!S.includes(k),W=O===m&&!h;return d((()=>{O!==m||h||g(p)}),[O]),e("button",Object.assign({id:j,ref:c,className:n.button({optionColor:x,radius:C,selected:W,hidden:V,size:v,mode:f}),"aria-hidden":V,disabled:h,"aria-disabled":h,onClick:()=>{O===m?(z(null),g(null)):(z(m),g(p))}},{children:[e("div",Object.assign({className:n.optionWrapper()},{children:[u,e("div",Object.assign({className:n.infoWrapper()},{children:[s("span",Object.assign({className:n.label({disabled:h,selected:W})},{children:p})),s("span",Object.assign({className:n.description({disabled:h,selected:W})},{children:b}))]}))]})),W&&s(t,{className:n.icon({size:v})})]}))}));c.displayName="ComboboxOption";export{c as ComboboxOption};
