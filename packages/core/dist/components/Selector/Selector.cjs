'use client';
"use strict";var e=require("tslib"),r=require("react/jsx-runtime"),t=require("./SelectorTab/SelectorTab.cjs"),o=require("@floating-ui/react"),s=require("../../hooks/use-horizontal-arrows.hook.cjs"),i=require("../../theme/theme.context.cjs"),n=require("../../utils/usePropId.cjs"),a=require("react"),c=require("tailwind-merge"),u=require("./Selector.context.cjs");const l={color:"dark",fullWidth:!1,orientation:"horizontal",radius:"md",shadow:"base",size:"md",tone:"solid",withAnimation:!0,withSeparator:!0},d=a.forwardRef(((t,d)=>{const h=i.useComponentTheme("Selector"),p=Object.assign(Object.assign({},l),t),{children:f,className:w="",color:m,fullWidth:b,onChange:g,orientation:v,radius:j,separator:S,shadow:x,size:q,tone:z,value:y,withAnimation:R,withSeparator:A}=p,T=e.__rest(p,["children","className","color","fullWidth","onChange","orientation","radius","separator","shadow","size","tone","value","withAnimation","withSeparator"]),P=n.usePropId(t.id),C=a.useRef(null),N=o.useMergeRefs([d||null,C]),[O,k]=a.useState(y),M=a.useRef(!0),W=a.useRef(null),$=a.useRef(null),[E,I]=a.useState(""),_=new Map,B=a.useMemo((()=>c.twMerge(h.wrapper({className:w,fullWidth:b,orientation:v,radius:j,shadow:x,size:q}))),[w,b,v,j,x,q,h]),H=(e,r,t,o="md",s="horizontal",i=!0)=>{const n=e.getBoundingClientRect(),a=n.width,c=n.height;r.style.setProperty("width",`${a}px`),r.style.setProperty("height",`${c}px`),r.style.setProperty("top",`${e.offsetTop}px`),r.style.setProperty("left",`${e.offsetLeft}px`),I(h.base({color:_.get(t),size:o,radius:j,tone:z,initialRun:i,withAnimation:R}))};a.useEffect((()=>{var e;if(!O)return;const r=null===(e=C.current)||void 0===e?void 0:e.querySelector('button[aria-checked="true"]');return r&&W.current?(H(r,W.current,O,q,v,M.current),M.current=!1,$.current=new ResizeObserver((e=>{W.current&&H(r,W.current,O,q,v,M.current)})),$.current.observe(W.current),()=>{$.current&&$.current.disconnect()}):void 0}),[O,m,b,v,j,q,z,R,A]),a.useEffect((()=>{g&&!M.current&&g(O)}),[O]);const L={activeTabAnchor:O,color:m,orientation:v,radius:j,separator:S,setActiveTabAnchor:k,shadow:x,size:q,tone:z,withSeparator:A};return a.Children.map(f,(e=>{_.set(e.props.anchor,e.props.color||m)})),s.useHorizontalArrows(C),r.jsx(u.SelectorContextProvider,Object.assign({value:L},{children:r.jsxs("div",Object.assign({id:P,ref:N,role:"radiogroup",className:B},T,{children:[f,r.jsx("div",{ref:W,className:E})]}))}))}));d.displayName="Selector";const h=Object.assign(d,{Tab:t.SelectorTab});module.exports=h;
