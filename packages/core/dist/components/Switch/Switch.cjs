'use client';
"use strict";var e=require("tslib"),s=require("react/jsx-runtime"),a=require("../../theme/theme.context.cjs"),r=require("../../utils/usePropId.cjs"),t=require("react"),i=require("tailwind-merge");const l={color:"dark",radius:"full",size:"md",withRing:!0},n=t.forwardRef(((n,c)=>{const d=a.useComponentTheme("Switch"),o=Object.assign(Object.assign({},l),n),{className:u="",checked:m=!1,color:f,disabled:h,onChange:b,radius:g,size:j,withRing:N,label:p,labelClassName:w="",description:x,descriptionClassName:y="",error:C,errorClassName:z=""}=o,O=e.__rest(o,["className","checked","color","disabled","onChange","radius","size","withRing","label","labelClassName","description","descriptionClassName","error","errorClassName"]),R=r.usePropId(n.id),[q,v]=t.useState(m),S=t.useRef(null),k=t.useRef(!0),M=q?"active":"inactive",E=t.useMemo((()=>i.twMerge(d.base({className:u,color:f,radius:g,size:j,state:M,withRing:N}))),[d,f,j,g,M,N,u]);return t.useEffect((()=>{const e=S.current;if(!e)return;if(k.current)return e.style.justifySelf=q?"end":"start",e.style.transform="",void(k.current=!1);const s=e.getAnimations();s.length>0&&s.forEach((e=>{e.cancel()}));const a=e.parentElement;if(!a)return;const r=a.scrollWidth-e.offsetWidth-(a.scrollHeight-e.offsetHeight),t=q?"translateX(0)":`translateX(${r}px)`,i=q?`translateX(${r}px)`:"translateX(0)";e.style.justifySelf="";e.animate({transform:[t,i]},{duration:50}).onfinish=()=>{e.style.transform="",e.style.justifySelf=q?"end":"start"}}),[q]),t.useEffect((()=>{b&&!k.current&&b(q)}),[q]),s.jsxs("div",Object.assign({onClick:()=>{h||v(!q)},className:"flex items-center"},{children:[s.jsx("button",Object.assign({ref:c,className:E,role:"switch","aria-checked":q,"aria-labelledby":`${R}-label`,disabled:h},O,{children:s.jsx("span",{ref:S,className:d.inner({radius:g,size:j,state:M})})})),s.jsxs("div",Object.assign({className:"grid grid-cols-1 justify-items-start"},{children:[s.jsx("label",Object.assign({id:`${R}-label`,htmlFor:R,className:i.twMerge(d.label({disabled:h,size:j,className:w}))},{children:p})),x&&s.jsx("span",Object.assign({className:i.twMerge(d.description({disabled:h,size:j,className:y}))},{children:x})),C&&s.jsx("span",Object.assign({className:i.twMerge(d.error({disabled:h,size:j,className:z}))},{children:C}))]}))]}))}));n.displayName="Switch",module.exports=n;
