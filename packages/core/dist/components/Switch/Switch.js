'use client';
import{__rest as e}from"tslib";import{jsxs as s,jsx as a}from"react/jsx-runtime";import{useComponentTheme as t}from"../../theme/theme.context.js";import{usePropId as i}from"../../utils/usePropId.js";import{forwardRef as r,useState as l,useRef as n,useMemo as c,useEffect as o}from"react";import{twMerge as d}from"tailwind-merge";const m={color:"dark",radius:"full",size:"md",withRing:!0},f=r(((r,f)=>{const h=t("Switch"),b=Object.assign(Object.assign({},m),r),{className:u="",checked:g=!1,color:p,disabled:N,onChange:j,radius:y,size:C,withRing:w,label:z,labelClassName:O="",description:x,descriptionClassName:k="",error:v,errorClassName:S=""}=b,R=e(b,["className","checked","color","disabled","onChange","radius","size","withRing","label","labelClassName","description","descriptionClassName","error","errorClassName"]),X=i(r.id),[$,E]=l(g),H=n(null),W=n(!0),A=$?"active":"inactive",F=c((()=>d(h.base({className:u,color:p,radius:y,size:C,state:A,withRing:w}))),[h,p,C,y,A,w,u]);return o((()=>{const e=H.current;if(!e)return;if(W.current)return e.style.justifySelf=$?"end":"start",e.style.transform="",void(W.current=!1);const s=e.getAnimations();s.length>0&&s.forEach((e=>{e.cancel()}));const a=e.parentElement;if(!a)return;const t=a.scrollWidth-e.offsetWidth-(a.scrollHeight-e.offsetHeight),i=$?"translateX(0)":`translateX(${t}px)`,r=$?`translateX(${t}px)`:"translateX(0)";e.style.justifySelf="";e.animate({transform:[i,r]},{duration:50}).onfinish=()=>{e.style.transform="",e.style.justifySelf=$?"end":"start"}}),[$]),o((()=>{j&&!W.current&&j($)}),[$]),s("div",Object.assign({onClick:()=>{N||E(!$)},className:"flex items-center"},{children:[a("button",Object.assign({ref:f,className:F,role:"switch","aria-checked":$,"aria-labelledby":`${X}-label`,disabled:N},R,{children:a("span",{ref:H,className:h.inner({radius:y,size:C,state:A})})})),s("div",Object.assign({className:"grid grid-cols-1 justify-items-start"},{children:[a("label",Object.assign({id:`${X}-label`,htmlFor:X,className:d(h.label({disabled:N,size:C,className:O}))},{children:z})),x&&a("span",Object.assign({className:d(h.description({disabled:N,size:C,className:k}))},{children:x})),v&&a("span",Object.assign({className:d(h.error({disabled:N,size:C,className:S}))},{children:v}))]}))]}))}));f.displayName="Switch";export{f as default};
