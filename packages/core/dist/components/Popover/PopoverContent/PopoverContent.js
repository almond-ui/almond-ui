import{__rest as e}from"tslib";import{jsx as o,jsxs as r}from"react/jsx-runtime";import{usePopoverContext as i}from"../Popover.context.js";import{FloatingPortal as t}from"@floating-ui/react";import{arrowSideDictionary as s}from"../../../helpers/arrow-side.dictionary.js";import{useComponentTheme as a}from"../../../theme/theme.context.js";import{usePropId as l}from"../../../utils/usePropId.js";import{forwardRef as n,useState as m,useEffect as d,useMemo as c}from"react";import{twMerge as p}from"tailwind-merge";const f=n(((n,f)=>{var u,h;const g=a("Popover"),w=Object.assign({},n),{children:v,className:b=""}=w,j=e(w,["children","className"]),x=l(n.id),{arrowRef:y,color:N,context:O,floating:P,getFloatingProps:z,open:D,radius:S,shadow:T,size:$,strategy:C,withinPortal:F,x:I,y:R}=i(),[k,q]=m(!D),[A,B]=m(null);d((()=>{A&&clearTimeout(A),B(setTimeout((()=>q(!D)),D?0:75))}),[D]);const E=(null===(u=O.middlewareData.arrow)||void 0===u?void 0:u.x)||0,G=(null===(h=O.middlewareData.arrow)||void 0===h?void 0:h.y)||0,H=s({side:O.placement}),J=c((()=>p(g.base({arrowSide:H,className:b,color:N,open:D,radius:S,shadow:T,size:$}))),[H,b,N,D,S,T,$,g]),K=o("span",{ref:y,className:g.arrow({arrowSide:H,color:N}),style:Object.assign(Object.assign(Object.assign({},"right"!==H&&{left:`${E}px`}),"top"!==H&&{bottom:`${G}px`}),{[H]:"-5px"})}),L=!k&&r("div",Object.assign({id:x,ref:P,className:J,style:{position:C,top:null!=R?R:0,left:null!=I?I:0,visibility:null==I?"hidden":"visible"}},z,j,{children:[K,v]}));return o("div",Object.assign({ref:f,className:b,"aria-hidden":!D},{children:F?o(t,{children:L}):L}))}));f.displayName="PopoverContent";export{f as PopoverContent};
