import{useFloating as e,offset as t,shift as o,arrow as n,autoUpdate as r,useInteractions as l,useClick as a,useHover as i,safePolygon as f,useFocus as s,useDismiss as c,useRole as g}from"@floating-ui/react";import{inline as m,flip as p}from"@floating-ui/react-dom";import{useRef as d,useState as u,useMemo as x}from"react";function y({placement:y="bottom",initiallyOpen:P=!1,offset:R=8}){const h=d(null),[w,F]=u(P),{x:b,y:C,refs:O,strategy:v,context:E}=e({open:w,onOpenChange:F,placement:y,middleware:[t(R),o(),m(),p(),n({element:h})],whileElementsMounted:r}),{getFloatingProps:M,getReferenceProps:j}=l([a(E,{enabled:null==w}),i(E,{move:!0,handleClose:f()}),s(E),c(E,{referencePress:!1}),g(E,{role:"dialog"})]);return x((()=>({x:b,y:C,reference:O.setReference,floating:O.setFloating,strategy:v,context:E,getFloatingProps:M(),getReferenceProps:j(),open:w,arrowRef:h})),[w,F,b,C])}export{y as usePopover};
