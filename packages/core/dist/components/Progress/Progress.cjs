'use client';
"use strict";var e=require("tslib"),r=require("react/jsx-runtime"),s=require("../../theme/theme.context.cjs"),a=require("../../utils/usePropId.cjs"),i=require("react");const n={animated:!1,color:"dark",radius:"md",shadow:"none",showValue:!1,size:"md",striped:!1},t=i.forwardRef(((t,l)=>{const c=s.useComponentTheme("Progress"),d=a.usePropId(t.id),o=`${d}-label`,u=Object.assign(Object.assign({},n),t),{animated:b,children:m,className:p="",color:g,description:h,label:j="",radius:f,shadow:v,showValue:x,size:w,striped:z,value:N=0}=u,O=e.__rest(u,["animated","children","className","color","description","label","radius","shadow","showValue","size","striped","value"]),y=i.useRef(null);i.useEffect((()=>{if(!b)return;if(!z)return;if(!(null==y?void 0:y.current))return;const e=y.current.animate({backgroundPosition:["0 0",c.stripe({size:w})]},{duration:2e3,iterations:1/0});return()=>{e.cancel()}}),[b,z,y,w,c]),i.useEffect((()=>{if(null==y?void 0:y.current){if(!z)return y.current.style.backgroundSize="",void(y.current.style.backgroundImage="");y.current.style.backgroundSize=c.stripe({size:w}),y.current.style.backgroundImage="linear-gradient(-45deg, rgba(255,255,255,.15) 25%, transparent 25%, transparent 50%, rgba(255,255,255,.15) 50%, rgba(255,255,255,.15) 75%, transparent 75%, transparent)"}}),[y,w,z,c]);const k=w&&["xs","sm"].includes(w)?"outer":"inner";return r.jsxs("div",Object.assign({id:d,ref:l,className:c.wrapper({className:p,size:w})},O,{children:[(j||x&&"outer"===k)&&r.jsxs("div",Object.assign({className:c.label({size:w})},{children:[j&&r.jsx("span",Object.assign({id:o,role:"presentation"},{children:j})),x&&"outer"===k&&r.jsxs("span",{children:[N,"%"]})]})),r.jsx("div",Object.assign({className:c.base({radius:f,size:w,shadow:v})},{children:r.jsx("div",Object.assign({ref:y,role:"progressbar","aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":N,"aria-labelledby":j?o:void 0,style:{width:`${N}%`},className:c.bar({color:g})},{children:x&&"inner"===k&&r.jsxs("span",{children:[N,"%"]})}))})),h&&r.jsx("span",Object.assign({className:c.description({size:w})},{children:h}))]}))}));t.displayName="Progress",module.exports=t;
