'use client';
import{__rest as e}from"tslib";import{jsxs as r,jsx as a}from"react/jsx-runtime";import{useComponentTheme as s}from"../../theme/theme.context.js";import{usePropId as i}from"../../utils/usePropId.js";import{forwardRef as n,useRef as t,useEffect as l}from"react";const o={animated:!1,color:"dark",radius:"md",shadow:"none",showValue:!1,size:"md",striped:!1},c=n(((n,c)=>{const d=s("Progress"),u=i(n.id),m=`${u}-label`,p=Object.assign(Object.assign({},o),n),{animated:b,children:g,className:h="",color:f,description:v,label:j="",radius:z,shadow:w,showValue:N,size:O,striped:y,value:k=0}=p,x=e(p,["animated","children","className","color","description","label","radius","shadow","showValue","size","striped","value"]),P=t(null);l((()=>{if(!b)return;if(!y)return;if(!(null==P?void 0:P.current))return;const e=P.current.animate({backgroundPosition:["0 0",d.stripe({size:O})]},{duration:2e3,iterations:1/0});return()=>{e.cancel()}}),[b,y,P,O,d]),l((()=>{if(null==P?void 0:P.current){if(!y)return P.current.style.backgroundSize="",void(P.current.style.backgroundImage="");P.current.style.backgroundSize=d.stripe({size:O}),P.current.style.backgroundImage="linear-gradient(-45deg, rgba(255,255,255,.15) 25%, transparent 25%, transparent 50%, rgba(255,255,255,.15) 50%, rgba(255,255,255,.15) 75%, transparent 75%, transparent)"}}),[P,O,y,d]);const I=O&&["xs","sm"].includes(O)?"outer":"inner";return r("div",Object.assign({id:u,ref:c,className:d.wrapper({className:h,size:O})},x,{children:[(j||N&&"outer"===I)&&r("div",Object.assign({className:d.label({size:O})},{children:[j&&a("span",Object.assign({id:m,role:"presentation"},{children:j})),N&&"outer"===I&&r("span",{children:[k,"%"]})]})),a("div",Object.assign({className:d.base({radius:z,size:O,shadow:w})},{children:a("div",Object.assign({ref:P,role:"progressbar","aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":k,"aria-labelledby":j?m:void 0,style:{width:`${k}%`},className:d.bar({color:f})},{children:N&&"inner"===I&&r("span",{children:[k,"%"]})}))})),v&&a("span",Object.assign({className:d.description({size:O})},{children:v}))]}))}));c.displayName="Progress";export{c as default};
