import{useRef as e,useEffect as t,useCallback as n}from"react";function r(r=!0){const u=e(null);return t((()=>{if(!r)return;const e=e=>{var t,n;if("Tab"===e.key&&u.current){e.preventDefault();const r=Array.from(null===(t=u.current)||void 0===t?void 0:t.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'));if(!r.length)return;null===(n=((e,t)=>{const n=t?e-1:e+1;return n<0||n>=r.length?t?r[r.length-1]:r[0]:r[n]})(r.indexOf(document.activeElement),e.shiftKey))||void 0===n||n.focus()}};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}),[r]),n((e=>{if(r)return u.current||(u.current=e),u.current&&u.current.focus(),u}),[r])}export{r as useFocusTrap};
